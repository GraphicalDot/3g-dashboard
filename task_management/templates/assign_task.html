{% extends 'home.html' %}
{% block extend_head %}
<script>
        $(document).ready(function() {
            $('select').material_select();
        });
        $('.datepicker').pickadate({
            selectMonths: true,
            selectYears: 15
        });
    </script>
{% endblock %}

{% block body%}
<div class="container">
    <h1>Assign Task</h1>
    <div class="row">
        <form class="col s8" method="post" action="">
            {% csrf_token %}
            <div class="row">
                <div>
                    <label>Select Course</label>
                    <select name="course" id="course">
                        {% for course in course_permissions %}
                        <option value="{{ course.id }}">{{ course.codename }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div>
                    <label>Select Subject</label>
                    <select name="subject" id="subject">
                        {% for subject in subject_permissions %}
                        <option value="{{ subject.id }}">{{ subject.codename }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div>
                    <label>Select Chapter</label>
                    <select name="chapter" id="chapter">
                        {% for chapter in chapter_permissions %}
                        <option value="{{ chapter.id }}">{{ chapter.codename }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div>
                    <label>Select Topic</label>
                    <select name="topic" id="topic">
                        {% for topic in topic_permissions %}
                        <option value="{{ topic.id }}">{{ topic.codename }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="row">
                <span style="color: red">{{ form.errors.title }}</span>
                <div class="input-field col s6">

                    <input id="title" type="text" data-length="50" name="title" maxlength="50" value="{{ form.title.value }}">
                    <label for="title">Title</label>
                </div>
            </div>
            <div class="row">
                <span style="color: red">{{ form.errors.title }}</span>
                <div class="input-field col s12">
                    <input id="description" type="text" class="validate" name="description" value="{{ form.description.value }}">
                    <label for="description">Task Description</label>
                </div>
            </div>

            <div class="row">
                <span style="color: red">{{ form.errors.title }}</span>
                <label>Select due date</label>
                <input type="date" class="datepicker" name="due_date" value="{{ form.due_date.value }}">
            </div>

            <div class='row'>
                <button type='submit' class='col s12 btn btn-large waves-effect indigo'>Submit Task</button>
              </div>
        </form>
    </div>
    </div>
{% endblock %}
<script>
    $('.datepicker').pickadate({
      selectMonths: true, // Creates a dropdown to control month
      selectYears: 15 // Creates a dropdown of 15 years to control year
            });
</script>